@inherits Fluxor.Blazor.Web.Components.FluxorComponent

<Loader IsDisplay="@(MusicsState.Value.IsLoading)" />

<RadzenCard class="rz-my-12 rz-mx-auto"
            Style="max-width: 45rem"
            Visible="@(!MusicsState.Value.IsLoading)">

    <RadzenRow class="rz-p-2">
        <RadzenTextBox @oninput="@OnFilterChanged"
                       class="w-100" />
    </RadzenRow>

    @foreach (var song in MusicsState.Value.FilteredSongs)
    {
        <RadzenRow AlignItems="AlignItems.Center"
                   class="rz-p-2">
            <RadzenColumn Size="4">
                <RadzenImage Path="@song.ImagePath"
                             Style="width: 100%; height: 100%;" />
            </RadzenColumn>

            <RadzenColumn Size="6">
                <RadzenRow>
                    <RadzenText Text="@song.Title"
                                TextStyle="TextStyle.Overline" />
                </RadzenRow>

                <RadzenRow>
                    <RadzenText Text="@song.Artist"
                                TextStyle="TextStyle.Overline" />
                </RadzenRow>
            </RadzenColumn>

            <RadzenColumn Size="2">
                <RadzenRow AlignItems="AlignItems.Center">
                    <RadzenColumn>
                        <RadzenIcon Icon="delete"
                                    @onclick="@(() => Remove(song.FileName, song.Title))"
                                    IconColor="@Radzen.Colors.Primary" />
                    </RadzenColumn>
                    <RadzenColumn>
                        <RadzenIcon Icon="download"
                                    @onclick="@(() => DownloadSong(song.Path))"
                                    IconColor="@Radzen.Colors.Primary" />
                    </RadzenColumn>
                </RadzenRow>
            </RadzenColumn>
        </RadzenRow>
    }
</RadzenCard>